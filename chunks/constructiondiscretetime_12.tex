
c = np.random.poisson(mu, num)
Q = np.zeros_like(a)
d = np.zeros_like(a)
Q[0] = 10  # initial queue length

for k in range(1, len(a)):
    d[k] = min(Q[k - 1], c[k])
    Q[k] = Q[k - 1] - d[k] + a[k]

print(d.mean(), Q.mean(), Q.std(), (Q > 40).mean()*100)

plt.figure(figsize=(6, 2))
plt.plot(Q)
filename = "figures/mm1_sim.pdf"
plt.savefig(filename)
plt.close()

20.148 42.518 22.8410962084 44.0

